{"version":3,"file":"index.js","sources":["../src/lib/router.tsx","../src/lib/link.tsx","../src/lib/route.tsx"],"sourcesContent":["import RouteRecognizer from 'route-recognizer';\nimport { fidan } from '@fidanjs/runtime';\nexport const instance = new RouteRecognizer();\n\nexport const transitionTo = (path: string) => {\n\tlet result = instance.recognize(path);\n\tif (result) {\n\t\tfor (var i = 0; i < result.length; i++) {\n\t\t\tvar item = result[i] as any;\n\t\t\titem.handler();\n\t\t}\n\t\t// window.location.hash = props.to;\n\t\twindow.history.pushState(null, null, path);\n\t}\n};\n\nexport const Router = (props: any) => {\n\treturn <div className=\"fidan-router-root\">{props.children}</div>;\n\t// fidan.createElement(fidan.Fragment, null, props.children);\n};\n","import { fidan } from '@fidanjs/runtime';\nimport { transitionTo } from './router';\n\nexport const Link = (props: { to: string; children: any }) => {\n\tconst handleLinkClick: Fidan.MouseEventHandler<HTMLAnchorElement> = (e) => {\n\t\te.preventDefault();\n\t\ttransitionTo(props.to);\n\t};\n\n\treturn (\n\t\t<a onClick={handleLinkClick} href={props.to}>\n\t\t\t{props.children}\n\t\t</a>\n\t);\n};\n","import { fidan } from '@fidanjs/runtime';\nimport { instance } from './router';\n\nexport const Route = (props: { exact?: boolean; path: string; component: Element | ((props) => Element) }) => {\n\tlet viewParent: Element = null;\n\n\tinstance.add([\n\t\t{\n\t\t\tpath: props.path,\n\t\t\thandler: () => {\n\t\t\t\tif (viewParent) {\n\t\t\t\t\tfidan.activateContext(props['$context']);\n\t\t\t\t\tconst rendered = typeof props.component === 'function' ? props.component(props) : props.component;\n\t\t\t\t\tfidan.deactivateContext(props['$context']);\n\t\t\t\t\tif (viewParent.firstChild) viewParent.replaceChild(rendered, viewParent.firstChild);\n\t\t\t\t\telse viewParent.appendChild(rendered);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t]);\n\n\t// const view = <></>\n\tconst view = fidan.createElement(fidan.Fragment, null, []);\n\n\tprops['didMount'] = (parent) => {\n\t\tviewParent = parent;\n\t};\n\n\treturn view;\n};\n"],"names":["instance","RouteRecognizer","transitionTo","path","result","recognize","i","length","handler","window","history","pushState","props","fidan","onClick","e","preventDefault","to","href","children","viewParent","add","activateContext","rendered","component","deactivateContext","firstChild","replaceChild","appendChild","view","createElement","Fragment","parent","className"],"mappings":"qHAEaA,EAAW,IAAIC,EAEfC,WAAgBC,OACxBC,EAASJ,EAASK,UAAUF,MAC5BC,EAAQ,KACN,IAAIE,EAAI,EAAGA,EAAIF,EAAOG,OAAQD,IAAK,CAC5BF,EAAOE,GACbE,UAGNC,OAAOC,QAAQC,UAAU,KAAM,KAAMR,2BCTlBS,UAOnBC,2BAAGC,iBANiEC,GACpEA,EAAEC,iBACFd,EAAaU,EAAMK,KAIUC,KAAMN,EAAMK,IACvCL,EAAMO,kCCRYP,OACjBQ,EAAsB,KAE1BpB,EAASqB,IAAI,CACZ,CACClB,KAAMS,EAAMT,KACZK,sBACKY,EAAY,CACfP,QAAMS,gBAAgBV,EAAK,cACrBW,EAAsC,mBAApBX,EAAMY,UAA2BZ,EAAMY,UAAUZ,GAASA,EAAMY,UACxFX,QAAMY,kBAAkBb,EAAK,UACzBQ,EAAWM,WAAYN,EAAWO,aAAaJ,EAAUH,EAAWM,YACnEN,EAAWQ,YAAYL,YAO1BM,EAAOhB,QAAMiB,cAAcjB,QAAMkB,SAAU,KAAM,WAEvDnB,EAAK,kBAAgBoB,GACpBZ,EAAaY,GAGPH,qEFZejB,UACfC,6BAAKoB,UAAU,qBAAqBrB,EAAMO"}