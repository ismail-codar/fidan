var fidan=function(e){function n(e){var n=this,t=[];function r(e){e in n||Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){return t[e]},set:function(n){t[e]=n,i({type:"itemset",index:e,item:n})}})}function i(e){n._handlers[e.type].forEach(function(t){t.call(n,e)})}n._handlers={itemadded:[],itemremoved:[],itemset:[],beforemulti:[],aftermulti:[]},n.on=function(e,t){n._handlers[e].push(t)},n.off=function(e,t){for(var r=n._handlers[e],i=r.length;--i>=0;)r[i]===t&&r.splice(i,1)},n.push=function(){var e,n=arguments;arguments.length>1&&i({type:"beforemulti"});for(var o=0,l=arguments.length;o<l;o++)e=t.length,t.push(n[o]),r(e),i({type:"itemadded",index:e,item:n[o]});return arguments.length>1&&i({type:"aftermulti"}),t.length},n.pop=function(){if(t.length>-1){var e=t.length-1,r=t.pop();return delete n[e],i({type:"itemremoved",index:e,item:r}),r}},n.unshift=function(){for(var e=arguments,n=0,o=arguments.length;n<o;n++)t.splice(n,0,e[n]),r(t.length-1),i({type:"itemadded",index:n,item:e[n]});for(;n<t.length;n++)i({type:"itemset",index:n,item:t[n]});return t.length},n.shift=function(){if(t.length>-1){var e=t.shift();return delete n[t.length],i({type:"itemremoved",index:0,item:e}),e}},n.splice=function(e,o){var l,a=arguments,f=[];for(e=null==e?0:e<0?t.length+e:e,o=null==o?t.length-e:o>0?o:0;o--;)l=t.splice(e,1)[0],f.push(l),delete n[t.length],i({type:"itemremoved",index:e+f.length-1,item:l});for(var d=2,u=arguments.length;d<u;d++)t.splice(e,0,a[d]),r(t.length-1),i({type:"itemadded",index:e,item:a[d]}),e++;return f},Object.defineProperty(n,"length",{configurable:!1,enumerable:!1,get:function(){return t.length},set:function(e){var r=Number(e),i=t.length;if(!(r%1==0&&r>=0))throw new RangeError("Invalid array length");return r<i?n.splice(r):r>i&&n.push.apply(n,new Array(r-i)),t.length=r,e}}),Object.defineProperty(n,"innerArray",{configurable:!1,enumerable:!1,get:function(){return t},set:function(e){t=e;for(var n=0;n<e.length;n++)r(n)}}),Object.getOwnPropertyNames(Array.prototype).forEach(function(e){e in n||Object.defineProperty(n,e,{configurable:!1,enumerable:!1,writable:!1,value:Array.prototype[e]})}),n.setEventsFrom=function(e){n.on=e.on,n.off=e.off,n._handlers=e._handlers},n.toJSON=function(){return t},Array.isArray(e)&&n.push.apply(n,e)}var t=function(e,t){var r=function(e){if(void 0===e)return r.$val;if(Array.isArray(e))(e=new n(e.slice(0))).setEventsFrom(r.$val);else if(e&&e.hasOwnProperty("innerArray")){var t=new n(e.innerArray.slice(0));t.setEventsFrom(e),e=t}for(var i=r.bc_depends,o=0;o<i.length;o++)!i[o].freezed&&i[o].beforeCompute(e,r.$val,r);for(r.$val=e,i=r.c_depends,o=0;o<i.length;o++)!i[o].freezed&&i[o](i[o].compute(e))};return r.$val=e,r.freezed=t,r.bc_depends=[],r.c_depends=[],r.toString=r.toJSON=function(){return r.$val.toString()},r},r=function(e,n){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];var o=t(void 0);o.compute=n,o(n(e.$val,o)),r.splice(0,0,e);for(var l=0;l<r.length;l++)r[l].c_depends.push(o);return o},i=function(e,n){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];var o=t(void 0);o.beforeCompute=n,o(n(e.$val,void 0,o)),r.splice(0,0,e);for(var l=0;l<r.length;l++)r[l].bc_depends.push(o);return o};function o(e,n){var t=-1,r=e.length;if(r>0&&e[r-1]<=n)return r-1;for(;r-t>1;){var i=Math.floor((t+r)/2);e[i]>n?r=i:t=i}return t}var l=function(e,n,t){var r=typeof t;"function"===r?t(e):("object"!==r&&(t=document.createTextNode(t)),e.insertBefore(t,e.children[n]))},a=function(e,n,t,r){var a=null;e.$val.on("beforemulti",function(){n.parentNode&&(a={parent:n,next:n.nextElementSibling},n=document.createDocumentFragment())}),e.$val.on("aftermulti",function(){a&&(a.parent.insertBefore(n,a.next),n=a.parent)}),e.$val.on("itemadded",function(e){l(n,e.index,t(e.item,e.index))}),e.$val.on("itemset",function(e){n.replaceChild(t(e.item,e.index),n.children.item(e.index))}),e.$val.on("itemremoved",function(e){n.removeChild(n.children.item(e.index))});var f=void 0;i(e,function(i){if(r)void 0===f&&i&&i.length>0&&(f=document.createDocumentFragment()),("reconcile"===r?function(e,n,t,r,i,l,a){if(0!==t.length)if(0!==n.length){var f,d,u=0,v=0,s=!0,c=n.length-1,h=t.length-1,p=l?l.nextSibling:e.firstChild,g=p,m=a?a.previousSibling:e.lastChild;e:for(;s;){s=!1;var b=void 0;for(f=n[u],d=t[v];f===d;){if(i(d,f),v++,g=p=p.nextSibling,c<++u||h<v)break e;f=n[u],d=t[v]}for(f=n[c],d=t[h];f===d;){if(i(d,f),h--,a=m,m=m.previousSibling,--c<u||h<v)break e;f=n[c],d=t[h]}for(f=n[c],d=t[v];f===d;){if(s=!0,i(d,f),b=m.previousSibling,e.insertBefore(m,g),m=b,v++,--c<u||h<v)break e;f=n[c],d=t[v]}for(f=n[u],d=t[h];f===d;){if(s=!0,i(d,f),b=p.nextSibling,e.insertBefore(p,a),a=p,p=b,h--,c<++u||h<v)break e;f=n[u],d=t[h]}}if(h<v){if(u<=c)for(var y;u<=c;)0===c?e.removeChild(m):(y=m.previousSibling,e.removeChild(m),m=y),c--}else if(c<u){if(v<=h)for(var x,C=a?1:0;v<=h;)x=r(t[v]),C?e.insertBefore(x,a):e.appendChild(x),v++}else{for(var $=new Array(h+1-v),S=v;S<=h;S++)$[S]=-1;for(var _=new Map,O=v;O<=h;O++)_.set(t[O],O);for(var w=v+t.length-1-h,E=[],N=u;N<=c;N++)_.has(n[N])?($[_.get(n[N])]=N,w++):E.push(N);if(0!==w){for(var A=function(e,n){for(var t=[],r=[],i=-1,l=new Array(e.length),a=n,f=e.length;a<f;a++){var d=e[a];if(!(d<0)){var u=o(t,d);-1!==u&&(l[a]=r[u]),u===i?(t[++i]=d,r[i]=a):d<t[u+1]&&(t[u+1]=d,r[u+1]=a)}}for(a=r[i];i>=0;a=l[a],i--)t[i]=a;return t}($,v),P=[],B=p,F=u;F<=c;F++)P[F]=B,B=B.nextSibling;for(var T=0;T<E.length;T++)e.removeChild(P[E[T]]);for(var j,M=A.length-1,I=h;I>=v;I--)A[M]===I?(a=P[$[A[M]]],i(t[I],n[I]),M--):(-1===$[I]?j=r(t[I]):(j=P[$[I]],i(t[I],n[I])),e.insertBefore(j,a),a=j)}else{if(void 0!==l||void 0!==a){var k,D=void 0!==l?l.nextSibling:e.firstChild;for(void 0===a&&(a=null);D!==a;)k=D.nextSibling,e.removeChild(D),D=k,u++}else e.textContent="";for(var L,R=a?1:0,W=v;W<=h;W++)L=r(t[W]),R?e.insertBefore(L,a):e.appendChild(L)}}}else for(var J,z=void 0!==a?1:0,H=0,V=t.length;H<V;H++)J=r(t[H]),z?e.insertBefore(J,a):e.appendChild(J);else if(void 0!==l||void 0!==a){var q,G=void 0!==l?l.nextSibling:e.firstChild;for(void 0===a&&(a=null);G!==a;)q=G.nextSibling,e.removeChild(G),G=q}else e.textContent=""}:function(e,n,t,r,i,o,l){if(0!==t.length){if(n.length>t.length)for(var a,f=n.length,d=void 0!==l?l.previousSibling:e.lastChild;f>t.length;)a=d.previousSibling,e.removeChild(d),d=a,f--;var u=o?o.nextSibling:e.firstChild;u===l&&(u=void 0);for(var v=0,s=void 0,c=u,h=l?1:0;v<t.length;v++)s=t[v],c?i(s,n[v]):(c=r(s),h?e.insertBefore(c,l):e.appendChild(c)),(c=c.nextSibling)===l&&(c=null)}else if(void 0!==o||void 0!==l){var p,g=void 0!==o?o.nextSibling:e.firstChild;for(void 0===l&&(l=null);g!==l;)p=g.nextSibling,e.removeChild(g),g=p}else e.textContent=""})(f||n,e.$val.innerArray,i||[],function(e){return t(e)},function(e,n){for(var t in e)n[t].hasOwnProperty("$val")&&(e[t].depends=n[t].depends,n[t](e[t]()))}),f&&(n.appendChild(f),f=null);else{var a=document.createDocumentFragment();n.textContent="";for(var d=0;d<e.$val.length;d++)l(a,d,t(e.$val[d],d));n.appendChild(a)}})},f={id:!0,nodeValue:!0,textContent:!0,className:!0,innerHTML:!0,innerText:!0,tabIndex:!0,value:!0},d=!1,u=document.createElement("template"),v=function(e,n,t){for(var r=n;r>=0;r--){var i=e[r],o=i.lastIndexOf("<");if(-1!==o){e[r]=i.substr(0,o)+t+i.substr(o);break}}},s=function(e,n){var t=[];!function(e,n){for(var t=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,{acceptNode:function(e){return e.nodeValue.trim().startsWith("cmt_")?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},!1);t.nextNode();)n.push(t.currentNode)}(e,t);for(var i=function(e){var i=t[e],o=i.nodeValue,l=null,a=null,d=o.indexOf("_")+1,u=o.indexOf("_",d),v=parseInt(o.substr(d,u-d));d=o.indexOf("_",u)+1,-1===(u=o.indexOf("_",d))&&(u=o.indexOf(" ",d));var s=parseInt(o.substr(d,u-d)),c=n[s];if(3&v){if(1===v){if(a="textContent",l=document.createTextNode(c.$val),i.parentElement.insertBefore(l,i.nextSibling),!c.hasOwnProperty("$val")&&Array.isArray(c))for(var h=0;h<c.length;h++)i.parentElement.appendChild(c[h])}else 2===v&&(a=o.substr(u+1,o.length-u-2),l=i.nextElementSibling);a.startsWith("on")?l.addEventListener(a.substr(2),c):c.hasOwnProperty("$val")?f[a]?r(c,function(e){l[a]=e}).name$="["+a+"]":r(c,function(e){l.setAttribute(a,e)}).name$="attr("+a+")":f[a]?l[a]=c:l.setAttribute(a,c)}else 4===v?c(i):8===v&&i.parentElement.insertBefore(c,i.nextSibling)},o=0;o<t.length;o++)i(o)};return e.array=function(e){var r=t(new n(e));return r.toJSON=function(){return r.$val.innerArray},r},e.value=t,e.computeBy=r,e.beforeComputeBy=i,e.compute=function(e){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var i=t(void 0);i.compute=e,i(e(void 0,i));for(var o=0;o<n.length;o++)n[o].c_depends.push(i);return i},e.beforeCompute=function(e){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var i=t(void 0);i.beforeCompute=e,i(e(void 0,void 0,i));for(var o=0;o<n.length;o++)n[o].bc_depends.push(i);return i},e.destroy=function(e){delete e.compute,delete e.c_depends},e.insertToDom=l,e.arrayMap=a,e.setDefaults=function(e,n){for(var t in n)void 0===e[t]&&(e[t]=n[t])},e.mapProperty=function(e,n,r){var i=Object.getOwnPropertyDescriptor(e,n);i.configurable?Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:function(){return r.$val},set:r}):i.set.depends.push(t(function(){r(e[n])}))},e.jsRoot=function(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")()},e.html=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];for(var t=e[0].slice(),r=e.slice(1),i=null,o=0,l=0;l<t.length;l++){var a=t[l],f=r[l];if(void 0===f)break;var c=f.hasOwnProperty("$val");c&&(void 0===f.$indexes&&(f.$indexes=[]),f.$indexes.push(l)),a.endsWith('="')?(o=a.lastIndexOf(" ")+1,i=a.substr(o,a.length-o-2),v(t,l,"\x3c!-- cmt_2_"+l+"_"+i+" --\x3e")):t[l]=a+"\x3c!-- cmt_"+("function"!=typeof f||c?"object"==typeof f?8:1:4)+"_"+l+" --\x3e"}(u=u.cloneNode(!1)).innerHTML=t.join("");var h=u.content;return h.$params=r,d||s(h,r),h},e.htmlArrayMap=function(e,n,t){return void 0===t&&(t={useCloneNode:!1,renderMode:void 0}),t.useCloneNode?function(r){var i=null,o=null,l=[];a(e,r.parentElement,function(e){var t=null;if(null===i){for(var r in d=!0,t=n(e),d=!1,o=t.$params,e){var a=e[r].$indexes;if(a)for(var f=0;f<a.length;f++)l.push(a[f],r)}i=t.cloneNode(!0)}else t=i.cloneNode(!0);for(f=0;f<l.length;f+=2)o[l[f]]=e[l[f+1]];return s(t,o),t},t.renderMode)}:function(t){a(e,t.parentElement,n)}},e}({});
