var fidan=function(e){function n(e){var t=this,r=[],i={itemadded:[],itemremoved:[],itemset:[],beforemulti:[],aftermulti:[]};function o(e){e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return r[e]},set:function(n){r[e]=n,l({type:"itemset",index:e,item:n})}})}function l(e){i[e.type].forEach(function(n){n.call(t,e)})}t.on=function(e,n){i[e].push(n)},t.off=function(e,n){for(var t=i[e],r=t.length;--r>=0;)t[r]===n&&t.splice(r,1)},t.push=function(){var e,n=arguments;arguments.length>1&&l({type:"beforemulti"});for(var t=0,i=arguments.length;t<i;t++)e=r.length,r.push(n[t]),o(e),l({type:"itemadded",index:e,item:n[t]});return arguments.length>1&&l({type:"aftermulti"}),r.length},t.pop=function(){if(r.length>-1){var e=r.length-1,n=r.pop();return delete t[e],l({type:"itemremoved",index:e,item:n}),n}},t.unshift=function(){for(var e=arguments,n=0,t=arguments.length;n<t;n++)r.splice(n,0,e[n]),o(r.length-1),l({type:"itemadded",index:n,item:e[n]});for(;n<r.length;n++)l({type:"itemset",index:n,item:r[n]});return r.length},t.shift=function(){if(r.length>-1){var e=r.shift();return delete t[r.length],l({type:"itemremoved",index:0,item:e}),e}},t.splice=function(e,n){var i,a=arguments,f=[];for(e=null==e?0:e<0?r.length+e:e,n=null==n?r.length-e:n>0?n:0;n--;)i=r.splice(e,1)[0],f.push(i),delete t[r.length],l({type:"itemremoved",index:e+f.length-1,item:i});for(var u=2,d=arguments.length;u<d;u++)r.splice(e,0,a[u]),o(r.length-1),l({type:"itemadded",index:e,item:a[u]}),e++;return f},t.slice=function(e,t){return new n(r.slice(e,t))},Object.defineProperty(t,"length",{configurable:!1,enumerable:!1,get:function(){return r.length},set:function(e){var n=Number(e),i=r.length;if(!(n%1==0&&n>=0))throw new RangeError("Invalid array length");return n<i?t.splice(n):n>i&&t.push.apply(t,new Array(n-i)),r.length=n,e}}),Object.defineProperty(t,"innerArray",{configurable:!1,enumerable:!1,get:function(){return r},set:function(e){r=e;for(var n=0;n<e.length;n++)o(n)}}),Object.getOwnPropertyNames(Array.prototype).forEach(function(e){e in t||Object.defineProperty(t,e,{configurable:!1,enumerable:!1,writable:!1,value:Array.prototype[e]})}),t.toJSON=function(){return r},Array.isArray(e)&&t.push.apply(t,e)}var t=function(e,n,t){"object"==typeof t?null===t?e[n]=null:Array.isArray(t)||t.hasOwnProperty("innerArray")?e[n]?e[n].innerArray=t.slice(0):e[n]=t.slice(0):e[n]=Object.assign({},t):e[n]=t},r=function(e,n){var r=function(e){if(void 0===e)return r.$next;t(r,"$next",e);var n=r.depends;if(n.length)for(var i=0;i<n.length;i++)!n[i].freezed&&n[i](n[i].compute(e,r));t(r,"$val",e)};return t(r,"$next",e),t(r,"$val",e),r.freezed=n,r.depends=[],r.toString=r.toJSON=function(){return r.$val.toString()},r},i=function(e,n){for(var t=[],i=arguments.length-2;i-- >0;)t[i]=arguments[i+2];var o=r(void 0);o.compute=n,o(n(e.$val,o)),t.splice(0,0,e);for(var l=0;l<t.length;l++)t[l].depends.push(o);return o};function o(e,n){var t=-1,r=e.length;if(r>0&&e[r-1]<=n)return r-1;for(;r-t>1;){var i=Math.floor((t+r)/2);e[i]>n?r=i:t=i}return t}var l=function(e,n,t){var r=typeof t;"function"===r?t(e):("object"!==r&&(t=document.createTextNode(t)),e.insertBefore(t,e.children[n]))},a=function(e,t,r,a){var f=e.$val instanceof n?e.$val:new n(e.$val),u=e.$val,d=null;f.on("beforemulti",function(){t.parentNode&&(d={parent:t,next:t.nextElementSibling},t=document.createDocumentFragment())}),f.on("aftermulti",function(){d&&(d.parent.insertBefore(t,d.next),t=d.parent)}),f.on("itemadded",function(e){l(t,e.index,r(e.item,e.index))}),f.on("itemset",function(e){t.replaceChild(r(e.item,e.index),t.children.item(e.index))}),f.on("itemremoved",function(e){t.removeChild(t.children.item(e.index))}),e(f);var v=void 0;i(e,function(n){if(a)void 0===v&&n&&n.length>0&&(v=document.createDocumentFragment()),("reconcile"===a?function(e,n,t,r,i,l,a){if(0!==t.length)if(0!==n.length){var f,u,d=0,v=0,c=!0,s=n.length-1,p=t.length-1,h=l?l.nextSibling:e.firstChild,g=h,m=a?a.previousSibling:e.lastChild;e:for(;c;){c=!1;var b=void 0;for(f=n[d],u=t[v];f===u;){if(i(u,f),v++,g=h=h.nextSibling,s<++d||p<v)break e;f=n[d],u=t[v]}for(f=n[s],u=t[p];f===u;){if(i(u,f),p--,a=m,m=m.previousSibling,--s<d||p<v)break e;f=n[s],u=t[p]}for(f=n[s],u=t[v];f===u;){if(c=!0,i(u,f),b=m.previousSibling,e.insertBefore(m,g),m=b,v++,--s<d||p<v)break e;f=n[s],u=t[v]}for(f=n[d],u=t[p];f===u;){if(c=!0,i(u,f),b=h.nextSibling,e.insertBefore(h,a),a=h,h=b,p--,s<++d||p<v)break e;f=n[d],u=t[p]}}if(p<v){if(d<=s)for(var x;d<=s;)0===s?e.removeChild(m):(x=m.previousSibling,e.removeChild(m),m=x),s--}else if(s<d){if(v<=p)for(var y,C=a?1:0;v<=p;)y=r(t[v]),C?e.insertBefore(y,a):e.appendChild(y),v++}else{for(var $=new Array(p+1-v),S=v;S<=p;S++)$[S]=-1;for(var O=new Map,w=v;w<=p;w++)O.set(t[w],w);for(var N=v+t.length-1-p,A=[],E=d;E<=s;E++)O.has(n[E])?($[O.get(n[E])]=E,N++):A.push(E);if(0!==N){for(var P=function(e,n){for(var t=[],r=[],i=-1,l=new Array(e.length),a=n,f=e.length;a<f;a++){var u=e[a];if(!(u<0)){var d=o(t,u);-1!==d&&(l[a]=r[d]),d===i?(t[++i]=u,r[i]=a):u<t[d+1]&&(t[d+1]=u,r[d+1]=a)}}for(a=r[i];i>=0;a=l[a],i--)t[i]=a;return t}($,v),j=[],_=h,B=d;B<=s;B++)j[B]=_,_=_.nextSibling;for(var T=0;T<A.length;T++)e.removeChild(j[A[T]]);for(var M,F=P.length-1,I=p;I>=v;I--)P[F]===I?(a=j[$[P[F]]],i(t[I],n[I]),F--):(-1===$[I]?M=r(t[I]):(M=j[$[I]],i(t[I],n[I])),e.insertBefore(M,a),a=M)}else{if(void 0!==l||void 0!==a){var k,D=void 0!==l?l.nextSibling:e.firstChild;for(void 0===a&&(a=null);D!==a;)k=D.nextSibling,e.removeChild(D),D=k,d++}else e.textContent="";for(var L,R=a?1:0,W=v;W<=p;W++)L=r(t[W]),R?e.insertBefore(L,a):e.appendChild(L)}}}else for(var J,H=void 0!==a?1:0,V=0,z=t.length;V<z;V++)J=r(t[V]),H?e.insertBefore(J,a):e.appendChild(J);else if(void 0!==l||void 0!==a){var q,G=void 0!==l?l.nextSibling:e.firstChild;for(void 0===a&&(a=null);G!==a;)q=G.nextSibling,e.removeChild(G),G=q}else e.textContent=""}:function(e,n,t,r,i,o,l){if(0!==t.length){if(n.length>t.length)for(var a,f=n.length,u=void 0!==l?l.previousSibling:e.lastChild;f>t.length;)a=u.previousSibling,e.removeChild(u),u=a,f--;var d=o?o.nextSibling:e.firstChild;d===l&&(d=void 0);for(var v=0,c=void 0,s=d,p=l?1:0;v<t.length;v++)c=t[v],s?i(c,n[v]):(s=r(c),p?e.insertBefore(s,l):e.appendChild(s)),(s=s.nextSibling)===l&&(s=null)}else if(void 0!==o||void 0!==l){var h,g=void 0!==o?o.nextSibling:e.firstChild;for(void 0===l&&(l=null);g!==l;)h=g.nextSibling,e.removeChild(g),g=h}else e.textContent=""})(t,u.innerArray,n||[],function(e){return r(e)},function(e,n){for(var t in e)n[t].hasOwnProperty("$val")&&(e[t].depends=n[t].depends,n[t](e[t]()))}),v&&(t.appendChild(v),v=null);else{var i=document.createDocumentFragment();t.textContent="";for(var f=0;f<e.$val.length;f++)l(i,f,r(e.$val[f],f));t.appendChild(i)}})},f={id:!0,nodeValue:!0,textContent:!0,className:!0,innerHTML:!0,innerText:!0,tabIndex:!0,value:!0},u=!1,d=document.createElement("template"),v=function(e,n,t){for(var r=n;r>=0;r--){var i=e[r],o=i.lastIndexOf("<");if(-1!==o){e[r]=i.substr(0,o)+t+i.substr(o);break}}},c=function(e,n){var t=[];!function(e,n){for(var t=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,{acceptNode:function(e){return e.nodeValue.trim().startsWith("cmt_")?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},!1);t.nextNode();)n.push(t.currentNode)}(e,t);for(var r=function(e){var r=t[e],o=r.nodeValue,l=null,a=null,u=o.indexOf("_")+1,d=o.indexOf("_",u),v=parseInt(o.substr(u,d-u));u=o.indexOf("_",d)+1,-1===(d=o.indexOf("_",u))&&(d=o.indexOf(" ",u));var c=parseInt(o.substr(u,d-u)),s=n[c];if(3&v){if(1===v){if(a="textContent",l=document.createTextNode(s.$val),r.parentElement.insertBefore(l,r.nextSibling),!s.hasOwnProperty("$val")&&Array.isArray(s))for(var p=0;p<s.length;p++)r.parentElement.appendChild(s[p])}else 2===v&&(a=o.substr(d+1,o.length-d-2),l=r.nextElementSibling);a.startsWith("on")?l.addEventListener(a.substr(2),s):s.hasOwnProperty("$val")?f[a]?i(s,function(e){l[a]=e}).name$="["+a+"]":i(s,function(e){l.setAttribute(a,e)}).name$="attr("+a+")":f[a]?l[a]=s:l.setAttribute(a,s)}else 4===v?s(r):8===v&&r.parentElement.insertBefore(s,r.nextSibling)},o=0;o<t.length;o++)r(o)};return e.array=function(e){var t=r(new n(e));return t.on=t.$val.on,t.off=t.$val.off,t.toJSON=function(){return t.$val.innerArray},t},e.on=function(e,n,t){e.$val.on(n,t)},e.off=function(e,n,t){e.$val.off(n,t)},e.value=r,e.computeBy=i,e.compute=function(e){for(var n=[],t=arguments.length-1;t-- >0;)n[t]=arguments[t+1];var i=r(void 0);i.compute=e,i(e(void 0,i));for(var o=0;o<n.length;o++)n[o].depends.push(i);return i},e.destroy=function(e){delete e.compute,delete e.depends},e.insertToDom=l,e.arrayMap=a,e.setDefaults=function(e,n){for(var t in n)void 0===e[t]&&(e[t]=n[t])},e.mapProperty=function(e,n,t){var i=Object.getOwnPropertyDescriptor(e,n);i.configurable?Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:function(){return t.$val},set:t}):i.set.depends.push(r(function(){t(e[n])}))},e.jsRoot=function(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")()},e.html=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];for(var t=e[0].slice(),r=e.slice(1),i=null,o=0,l=0;l<t.length;l++){var a=t[l],f=r[l];if(void 0===f)break;var s=f.hasOwnProperty("$val");s&&(void 0===f.$indexes&&(f.$indexes=[]),f.$indexes.push(l)),a.endsWith('="')?(o=a.lastIndexOf(" ")+1,i=a.substr(o,a.length-o-2),v(t,l,"\x3c!-- cmt_2_"+l+"_"+i+" --\x3e")):t[l]=a+"\x3c!-- cmt_"+("function"!=typeof f||s?"object"==typeof f?8:1:4)+"_"+l+" --\x3e"}(d=d.cloneNode(!1)).innerHTML=t.join("");var p=d.content;return p.$params=r,u||c(p,r),p},e.htmlArrayMap=function(e,n,t){return void 0===t&&(t={useCloneNode:!1,renderMode:void 0}),t.useCloneNode?function(r){var i=null,o=null,l=[];a(e,r.parentElement,function(e){var t=null;if(null===i){for(var r in u=!0,t=n(e),u=!1,o=t.$params,e){var a=e[r].$indexes;if(a)for(var f=0;f<a.length;f++)l.push(a[f],r)}i=t.cloneNode(!0)}else t=i.cloneNode(!0);for(f=0;f<l.length;f+=2)o[l[f]]=e[l[f+1]];return c(t,o),t},t.renderMode)}:function(t){a(e,t.parentElement,n)}},e}({});
