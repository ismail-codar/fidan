function e(e){var n=this,t=[];function r(e){e in n||Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){return t[e]},set:function(n){t[e]=n,i({type:"itemset",index:e,item:n})}})}function i(e){n._handlers[e.type].forEach(function(t){t.call(n,e)})}n._handlers={itemadded:[],itemremoved:[],itemset:[],beforemulti:[],aftermulti:[]},n.on=function(e,t){n._handlers[e].push(t)},n.off=function(e,t){for(var r=n._handlers[e],i=r.length;--i>=0;)r[i]===t&&r.splice(i,1)},n.push=function(){var e,n=arguments;arguments.length>1&&i({type:"beforemulti"});for(var o=0,l=arguments.length;o<l;o++)e=t.length,t.push(n[o]),r(e),i({type:"itemadded",index:e,item:n[o]});return arguments.length>1&&i({type:"aftermulti"}),t.length},n.pop=function(){if(t.length>-1){var e=t.length-1,r=t.pop();return delete n[e],i({type:"itemremoved",index:e,item:r}),r}},n.unshift=function(){for(var e=arguments,n=0,o=arguments.length;n<o;n++)t.splice(n,0,e[n]),r(t.length-1),i({type:"itemadded",index:n,item:e[n]});for(;n<t.length;n++)i({type:"itemset",index:n,item:t[n]});return t.length},n.shift=function(){if(t.length>-1){var e=t.shift();return delete n[t.length],i({type:"itemremoved",index:0,item:e}),e}},n.splice=function(e,o){var l,a=arguments,u=[];for(e=null==e?0:e<0?t.length+e:e,o=null==o?t.length-e:o>0?o:0;o--;)l=t.splice(e,1)[0],u.push(l),delete n[t.length],i({type:"itemremoved",index:e+u.length-1,item:l});for(var s=2,f=arguments.length;s<f;s++)t.splice(e,0,a[s]),r(t.length-1),i({type:"itemadded",index:e,item:a[s]}),e++;return u},Object.defineProperty(n,"length",{configurable:!1,enumerable:!1,get:function(){return t.length},set:function(e){var r=Number(e),i=t.length;if(!(r%1==0&&r>=0))throw new RangeError("Invalid array length");return r<i?n.splice(r):r>i&&n.push.apply(n,new Array(r-i)),t.length=r,e}}),Object.defineProperty(n,"innerArray",{configurable:!1,enumerable:!1,get:function(){return t},set:function(e){t=e;for(var n=0;n<e.length;n++)r(n)}}),Object.getOwnPropertyNames(Array.prototype).forEach(function(e){e in n||Object.defineProperty(n,e,{configurable:!1,enumerable:!1,writable:!1,value:Array.prototype[e]})}),n.setEventsFrom=function(e){n.on=e.on,n.off=e.off,n._handlers=e._handlers},n.toJSON=function(){return t},Array.isArray(e)&&n.push.apply(n,e)}var n=function(n,t,r){if(null==r)n[t]=r;else if(n[t])Array.isArray(r)?n[t].innerArray=r.slice(0):r.hasOwnProperty("innerArray")?(n[t].innerArray=r.innerArray.slice(0),n[t].setEventsFrom(r)):n[t]=r;else if(Array.isArray(r))n[t]=new e(r.slice(0));else if(r.hasOwnProperty("innerArray")){var i=new e(r.innerArray.slice(0));i.setEventsFrom(r),n[t]=i}else n[t]=r},t=function(e,t){var r=function(e){if(void 0===e)return r.$next;n(r,"$next",e);var t=r.depends;if(t.length)for(var i=0;i<t.length;i++)!t[i].freezed&&t[i](t[i].compute(e,r.$val,r));r.$val=e};return r.$val=e,n(r,"$next",e),r.freezed=t,r.depends=[],r.toString=r.toJSON=function(){return r.$val.toString()},r},r=function(e,n){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];var o=t(void 0);o.compute=n,o(n(e.$val,o)),r.splice(0,0,e);for(var l=0;l<r.length;l++)r[l].depends.push(o);return o};function i(e,n){var t=-1,r=e.length;if(r>0&&e[r-1]<=n)return r-1;for(;r-t>1;){var i=Math.floor((t+r)/2);e[i]>n?r=i:t=i}return t}var o=function(e,n,t){var r=typeof t;"function"===r?t(e):("object"!==r&&(t=document.createTextNode(t)),e.insertBefore(t,e.children[n]))},l=function(e,n,t,l){var a=null;e.$val.on("beforemulti",function(){n.parentNode&&(a={parent:n,next:n.nextElementSibling},n=document.createDocumentFragment())}),e.$val.on("aftermulti",function(){a&&(a.parent.insertBefore(n,a.next),n=a.parent)}),e.$val.on("itemadded",function(e){o(n,e.index,t(e.item,e.index))}),e.$val.on("itemset",function(e){n.replaceChild(t(e.item,e.index),n.children.item(e.index))}),e.$val.on("itemremoved",function(e){n.removeChild(n.children.item(e.index))});var u=void 0;r(e,function(r){if(l)void 0===u&&r&&r.length>0&&(u=document.createDocumentFragment()),("reconcile"===l?function(e,n,t,r,o,l,a){if(0!==t.length)if(0!==n.length){var u,s,f=0,d=0,c=!0,v=n.length-1,h=t.length-1,p=l?l.nextSibling:e.firstChild,m=p,b=a?a.previousSibling:e.lastChild;e:for(;c;){c=!1;var g=void 0;for(u=n[f],s=t[d];u===s;){if(o(s,u),d++,m=p=p.nextSibling,v<++f||h<d)break e;u=n[f],s=t[d]}for(u=n[v],s=t[h];u===s;){if(o(s,u),h--,a=b,b=b.previousSibling,--v<f||h<d)break e;u=n[v],s=t[h]}for(u=n[v],s=t[d];u===s;){if(c=!0,o(s,u),g=b.previousSibling,e.insertBefore(b,m),b=g,d++,--v<f||h<d)break e;u=n[v],s=t[d]}for(u=n[f],s=t[h];u===s;){if(c=!0,o(s,u),g=p.nextSibling,e.insertBefore(p,a),a=p,p=g,h--,v<++f||h<d)break e;u=n[f],s=t[h]}}if(h<d){if(f<=v)for(var x;f<=v;)0===v?e.removeChild(b):(x=b.previousSibling,e.removeChild(b),b=x),v--}else if(v<f){if(d<=h)for(var y,$=a?1:0;d<=h;)y=r(t[d]),$?e.insertBefore(y,a):e.appendChild(y),d++}else{for(var C=new Array(h+1-d),A=d;A<=h;A++)C[A]=-1;for(var N=new Map,O=d;O<=h;O++)N.set(t[O],O);for(var S=d+t.length-1-h,E=[],w=f;w<=v;w++)N.has(n[w])?(C[N.get(n[w])]=w,S++):E.push(w);if(0!==S){for(var _=function(e,n){for(var t=[],r=[],o=-1,l=new Array(e.length),a=n,u=e.length;a<u;a++){var s=e[a];if(!(s<0)){var f=i(t,s);-1!==f&&(l[a]=r[f]),f===o?(t[++o]=s,r[o]=a):s<t[f+1]&&(t[f+1]=s,r[f+1]=a)}}for(a=r[o];o>=0;a=l[a],o--)t[o]=a;return t}(C,d),F=[],P=p,T=f;T<=v;T++)F[T]=P,P=P.nextSibling;for(var j=0;j<E.length;j++)e.removeChild(F[E[j]]);for(var B,M=_.length-1,I=h;I>=d;I--)_[M]===I?(a=F[C[_[M]]],o(t[I],n[I]),M--):(-1===C[I]?B=r(t[I]):(B=F[C[I]],o(t[I],n[I])),e.insertBefore(B,a),a=B)}else{if(void 0!==l||void 0!==a){var k,D=void 0!==l?l.nextSibling:e.firstChild;for(void 0===a&&(a=null);D!==a;)k=D.nextSibling,e.removeChild(D),D=k,f++}else e.textContent="";for(var L,R=a?1:0,U=d;U<=h;U++)L=r(t[U]),R?e.insertBefore(L,a):e.appendChild(L)}}}else for(var V,W=void 0!==a?1:0,J=0,H=t.length;J<H;J++)V=r(t[J]),W?e.insertBefore(V,a):e.appendChild(V);else if(void 0!==l||void 0!==a){var z,Z=void 0!==l?l.nextSibling:e.firstChild;for(void 0===a&&(a=null);Z!==a;)z=Z.nextSibling,e.removeChild(Z),Z=z}else e.textContent=""}:function(e,n,t,r,i,o,l){if(0!==t.length){if(n.length>t.length)for(var a,u=n.length,s=void 0!==l?l.previousSibling:e.lastChild;u>t.length;)a=s.previousSibling,e.removeChild(s),s=a,u--;var f=o?o.nextSibling:e.firstChild;f===l&&(f=void 0);for(var d=0,c=void 0,v=f,h=l?1:0;d<t.length;d++)c=t[d],v?i(c,n[d]):(v=r(c),h?e.insertBefore(v,l):e.appendChild(v)),(v=v.nextSibling)===l&&(v=null)}else if(void 0!==o||void 0!==l){var p,m=void 0!==o?o.nextSibling:e.firstChild;for(void 0===l&&(l=null);m!==l;)p=m.nextSibling,e.removeChild(m),m=p}else e.textContent=""})(n,e.$val.innerArray,r||[],function(e){return t(e)},function(e,n){for(var t in e)n[t].hasOwnProperty("$val")&&(e[t].depends=n[t].depends,n[t](e[t]()))}),u&&(n.appendChild(u),u=null);else{var a=document.createDocumentFragment();n.textContent="";for(var s=0;s<e.$val.length;s++)o(a,s,t(e.$val[s],s));n.appendChild(a)}})},a={id:!0,nodeValue:!0,textContent:!0,className:!0,innerHTML:!0,innerText:!0,tabIndex:!0,value:!0},u=!1,s=document.createElement("template"),f=function(e,n,t){for(var r=n;r>=0;r--){var i=e[r],o=i.lastIndexOf("<");if(-1!==o){e[r]=i.substr(0,o)+t+i.substr(o);break}}},d=function(e,n){var t=[];!function(e,n){for(var t=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,{acceptNode:function(e){return e.nodeValue.trim().startsWith("cmt_")?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},!1);t.nextNode();)n.push(t.currentNode)}(e,t);for(var i=function(e){var i=t[e],o=i.nodeValue,l=null,u=null,s=o.indexOf("_")+1,f=o.indexOf("_",s),d=parseInt(o.substr(s,f-s));s=o.indexOf("_",f)+1,-1===(f=o.indexOf("_",s))&&(f=o.indexOf(" ",s));var c=parseInt(o.substr(s,f-s)),v=n[c];if(3&d){if(1===d){if(u="textContent",l=document.createTextNode(v.$val),i.parentElement.insertBefore(l,i.nextSibling),!v.hasOwnProperty("$val")&&Array.isArray(v))for(var h=0;h<v.length;h++)i.parentElement.appendChild(v[h])}else 2===d&&(u=o.substr(f+1,o.length-f-2),l=i.nextElementSibling);u.startsWith("on")?l.addEventListener(u.substr(2),v):v.hasOwnProperty("$val")?a[u]?r(v,function(e){l[u]=e}).name$="["+u+"]":r(v,function(e){l.setAttribute(u,e)}).name$="attr("+u+")":a[u]?l[u]=v:l.setAttribute(u,v)}else 4===d?v(i):8===d&&i.parentElement.insertBefore(v,i.nextSibling)},o=0;o<t.length;o++)i(o)},c=function(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")()},v=[],h={},p=function(e,n){h[e]||(h[e]=[]),h[e].push(n),v.push(e)},m=function(e){e.$context||Object.defineProperty(e,"$context",{configurable:!1,enumerable:!1,value:{}});for(var n=null,t=0;t<v.length;t++)e.$context[n=v[t]]=h[n][h[n].length-1]},b=function(e){h[e].pop(),v.pop()},g=function(e){for(var n in e)p(n,e[n])},x=function(e){for(var n in e)b(n)},y=/^on[A-Z]/,$=Symbol("fjsx.Fragment"),C=function(e,n,t){var r=null;for(var i in n)if(null!=(r=n[i]))if(r instanceof Function)y.test(i)?e[i=i.toLowerCase()]=r:r(e);else if(r instanceof Object)if(Array.isArray(r))A(e,r);else for(var o in r)"function"==typeof r[o]?r[o](e):e[i][o]=r[o];else t||-1!==i.indexOf("-")?e.setAttribute(i,r):e[i]=r},A=function(e,n){for(var t=null,r=0;r<n.length;r++)Array.isArray(n[r])?A(e,n[r]):n[r]instanceof Function?n[r](e):null!=n[r]&&(t=n[r].$props,e.appendChild(n[r]instanceof Node?n[r]:document.createTextNode(n[r])),t&&t.didMount&&t.didMount(e,n[r]))},N=function(e){var n,t=c().Symbol;return"function"==typeof t?t.observable?n=t.observable:(n=t("observable"),t.observable=n):n="@@observable",n}(),O=function(e){this.isUnsubscribed=!1,this.handlers=null,this._unsubscribe=null,this.handlers=e,this.isUnsubscribed=!1};O.prototype.next=function(e){this.handlers.next&&!this.isUnsubscribed&&this.handlers.next(e)},O.prototype.error=function(e){this.isUnsubscribed||(this.handlers.error&&this.handlers.error(e),this.unsubscribe())},O.prototype.complete=function(){this.isUnsubscribed||(this.handlers.complete&&this.handlers.complete(),this.unsubscribe())},O.prototype.unsubscribe=function(){this.isUnsubscribed=!0,this._unsubscribe&&this._unsubscribe()};var S=function(e){this._subscribe=null,this._subscribe=e};S.prototype.subscribe=function(e){var n=new O(e);return n._unsubscribe=this._subscribe(n),{unsubscribe:function(){n.unsubscribe()}}},S.prototype[N]=function(){return this},exports.fidan={array:function(n){var r=t(new e(n));return r.toJSON=function(){return r.$val.innerArray},r},on:function(e,n,t){e.$val.on(n,t)},off:function(e,n,t){e.$val.off(n,t)},value:t,computeBy:r,compute:function(e){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var i=t(void 0);i.compute=e,i(e(void 0,i));for(var o=0;o<n.length;o++)n[o].depends.push(i);return i},destroy:function(e){delete e.compute,delete e.depends},insertToDom:o,arrayMap:l,html:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];for(var t=e[0].slice(),r=e.slice(1),i=null,o=0,l=0;l<t.length;l++){var a=t[l],c=r[l];if(void 0===c)break;var v=c.hasOwnProperty("$val");v&&(void 0===c.$indexes&&(c.$indexes=[]),c.$indexes.push(l)),a.endsWith('="')?(o=a.lastIndexOf(" ")+1,i=a.substr(o,a.length-o-2),f(t,l,"\x3c!-- cmt_2_"+l+"_"+i+" --\x3e")):t[l]=a+"\x3c!-- cmt_"+("function"!=typeof c||v?"object"==typeof c?8:1:4)+"_"+l+" --\x3e"}(s=s.cloneNode(!1)).innerHTML=t.join("");var h=s.content;return h.$params=r,u||d(h,r),h},htmlArrayMap:function(e,n,t){return void 0===t&&(t={useCloneNode:!1,renderMode:void 0}),t.useCloneNode?function(r){var i=null,o=null,a=[];l(e,r.parentElement,function(e){var t=null;if(null===i){for(var r in u=!0,t=n(e),u=!1,o=t.$params,e){var l=e[r].$indexes;if(l)for(var s=0;s<l.length;s++)a.push(l[s],r)}i=t.cloneNode(!0)}else t=i.cloneNode(!0);for(s=0;s<a.length;s+=2)o[a[s]]=e[a[s+1]];return d(t,o),t},t.renderMode)}:function(t){l(e,t.parentElement,n)}},setDefaults:function(e,n){for(var t in n)void 0===e[t]&&(e[t]=n[t])},mapProperty:function(e,n,r){var i=Object.getOwnPropertyDescriptor(e,n);i.configurable?Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:function(){return r.$val},set:r}):i.set.depends.push(t(function(){r(e[n])}))},jsRoot:c,Fragment:$,conditionalElement:function(e,n,t){e.$props&&g(e.$props.$context);var r=t();return e.$props&&x(e.$props.$context),r instanceof Node==0&&(r=document.createTextNode(r||"")),n?e.replaceChild(r,n):e.appendChild(r),r},setElementAttributes:C,createElement:function(e,n){for(var t=[],r=arguments.length-2;r-- >0;)t[r]=arguments[r+2];var i=null;return e instanceof Function?(null===n&&(n={}),t&&t.length&&(n.children=t),m(n),(i=e(n))&&(i.$props=n)):(e===$?i=document.createDocumentFragment():(i=document.createElement(e),n&&C(i,n,-1!==e.indexOf("-"))),i.$props=n,t&&t.length&&A(i,t)),i},createSvgElement:function(e,n){for(var t=[],r=arguments.length-2;r-- >0;)t[r]=arguments[r+2];var i=document.createElementNS("http://www.w3.org/2000/svg",e);return n&&(n.className&&(n.class=n.className,delete n.className),C(i,n,!0)),i.$props=n,t&&t.length&&A(i,t),i},addChildElements:A,createTextNode:function(e){return e.appendChild(document.createTextNode(""))},cloneElement:function(e,n){return e=e.cloneNode(!0),n&&C(e,n,!1),e},startContext:p,getContextValue:function(e,n){return n&&n.$context[e]?n.$context[e]:h[e]?h[e][h[e].length-1]:void 0},injectContexts:m,endContext:b,activateContext:g,deactivateContext:x,Context:function(e){return null},toObservable:function(e){return new S(function(n){var r=t(function(){n.next(e.$val)});e.depends.push(r)})},VERSION:"0.0.4"};
//# sourceMappingURL=index.js.map
