function e(n){var t=this,r=[],i={itemadded:[],itemremoved:[],itemset:[],beforemulti:[],aftermulti:[]};function o(e){e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return r[e]},set:function(n){r[e]=n,l({type:"itemset",index:e,item:n})}})}function l(e){i[e.type].forEach(function(n){n.call(t,e)})}t.on=function(e,n){i[e].push(n)},t.off=function(e,n){for(var t=i[e],r=t.length;--r>=0;)t[r]===n&&t.splice(r,1)},t.push=function(){var e,n=arguments;arguments.length>1&&l({type:"beforemulti"});for(var t=0,i=arguments.length;t<i;t++)e=r.length,r.push(n[t]),o(e),l({type:"itemadded",index:e,item:n[t]});return arguments.length>1&&l({type:"aftermulti"}),r.length},t.pop=function(){if(r.length>-1){var e=r.length-1,n=r.pop();return delete t[e],l({type:"itemremoved",index:e,item:n}),n}},t.unshift=function(){for(var e=arguments,n=0,t=arguments.length;n<t;n++)r.splice(n,0,e[n]),o(r.length-1),l({type:"itemadded",index:n,item:e[n]});for(;n<r.length;n++)l({type:"itemset",index:n,item:r[n]});return r.length},t.shift=function(){if(r.length>-1){var e=r.shift();return delete t[r.length],l({type:"itemremoved",index:0,item:e}),e}},t.splice=function(e,n){var i,a=arguments,u=[];for(e=null==e?0:e<0?r.length+e:e,n=null==n?r.length-e:n>0?n:0;n--;)i=r.splice(e,1)[0],u.push(i),delete t[r.length],l({type:"itemremoved",index:e+u.length-1,item:i});for(var f=2,s=arguments.length;f<s;f++)r.splice(e,0,a[f]),o(r.length-1),l({type:"itemadded",index:e,item:a[f]}),e++;return u},t.slice=function(n,t){return new e(r.slice(n,t))},Object.defineProperty(t,"length",{configurable:!1,enumerable:!1,get:function(){return r.length},set:function(e){var n=Number(e),i=r.length;if(!(n%1==0&&n>=0))throw new RangeError("Invalid array length");return n<i?t.splice(n):n>i&&t.push.apply(t,new Array(n-i)),r.length=n,e}}),Object.defineProperty(t,"innerArray",{configurable:!1,enumerable:!1,get:function(){return r},set:function(e){r=e;for(var n=0;n<e.length;n++)o(n)}}),Object.getOwnPropertyNames(Array.prototype).forEach(function(e){e in t||Object.defineProperty(t,e,{configurable:!1,enumerable:!1,writable:!1,value:Array.prototype[e]})}),t.toJSON=function(){return r},Array.isArray(n)&&t.push.apply(t,n)}var n=function(n,t){var r=function(n){if(void 0===n)return r.$next;Array.isArray(n)||r.$next instanceof e?r.$next.innerArray=n.slice(0):r.$next=n;var t=r.depends;if(t.length)for(var i=0;i<t.length;i++)!t[i].freezed&&t[i](t[i].compute(n,r));Array.isArray(n)||n instanceof e?r.$val.innerArray=n.slice(0):r.$val=n};return Array.isArray(n)||r.$val instanceof e?(r.$next=n.slice(0),r.$val=n.slice(0)):(r.$next=n,r.$val=n),r.freezed=t,r.depends=[],r.toString=r.toJSON=function(){return r.$val.toString()},r},t=function(e,t){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];var o=n(void 0);o.compute=t,o(t(e.$val,o)),r.splice(0,0,e);for(var l=0;l<r.length;l++)r[l].depends.push(o);return o};function r(e,n){var t=-1,r=e.length;if(r>0&&e[r-1]<=n)return r-1;for(;r-t>1;){var i=Math.floor((t+r)/2);e[i]>n?r=i:t=i}return t}var i=function(e,n,t){var r=typeof t;"function"===r?t(e):("object"!==r&&(t=document.createTextNode(t)),e.insertBefore(t,e.children[n]))},o=function(n,o,l,a){var u=n.$val instanceof e?n.$val:new e(n.$val),f=n.$val,s=null;u.on("beforemulti",function(){o.parentNode&&(s={parent:o,next:o.nextElementSibling},o=document.createDocumentFragment())}),u.on("aftermulti",function(){s&&(s.parent.insertBefore(o,s.next),o=s.parent)}),u.on("itemadded",function(e){i(o,e.index,l(e.item,e.index))}),u.on("itemset",function(e){o.replaceChild(l(e.item,e.index),o.children.item(e.index))}),u.on("itemremoved",function(e){o.removeChild(o.children.item(e.index))}),n(u);var c=void 0;t(n,function(e){if(a)void 0===c&&e&&e.length>0&&(c=document.createDocumentFragment()),("reconcile"===a?function(e,n,t,i,o,l,a){if(0!==t.length)if(0!==n.length){var u,f,s=0,c=0,d=!0,v=n.length-1,p=t.length-1,h=l?l.nextSibling:e.firstChild,b=h,m=a?a.previousSibling:e.lastChild;e:for(;d;){d=!1;var g=void 0;for(u=n[s],f=t[c];u===f;){if(o(f,u),c++,b=h=h.nextSibling,v<++s||p<c)break e;u=n[s],f=t[c]}for(u=n[v],f=t[p];u===f;){if(o(f,u),p--,a=m,m=m.previousSibling,--v<s||p<c)break e;u=n[v],f=t[p]}for(u=n[v],f=t[c];u===f;){if(d=!0,o(f,u),g=m.previousSibling,e.insertBefore(m,b),m=g,c++,--v<s||p<c)break e;u=n[v],f=t[c]}for(u=n[s],f=t[p];u===f;){if(d=!0,o(f,u),g=h.nextSibling,e.insertBefore(h,a),a=h,h=g,p--,v<++s||p<c)break e;u=n[s],f=t[p]}}if(p<c){if(s<=v)for(var x;s<=v;)0===v?e.removeChild(m):(x=m.previousSibling,e.removeChild(m),m=x),v--}else if(v<s){if(c<=p)for(var y,$=a?1:0;c<=p;)y=i(t[c]),$?e.insertBefore(y,a):e.appendChild(y),c++}else{for(var C=new Array(p+1-c),N=c;N<=p;N++)C[N]=-1;for(var S=new Map,A=c;A<=p;A++)S.set(t[A],A);for(var O=c+t.length-1-p,w=[],E=s;E<=v;E++)S.has(n[E])?(C[S.get(n[E])]=E,O++):w.push(E);if(0!==O){for(var _=function(e,n){for(var t=[],i=[],o=-1,l=new Array(e.length),a=n,u=e.length;a<u;a++){var f=e[a];if(!(f<0)){var s=r(t,f);-1!==s&&(l[a]=i[s]),s===o?(t[++o]=f,i[o]=a):f<t[s+1]&&(t[s+1]=f,i[s+1]=a)}}for(a=i[o];o>=0;a=l[a],o--)t[o]=a;return t}(C,c),T=[],j=h,F=s;F<=v;F++)T[F]=j,j=j.nextSibling;for(var P=0;P<w.length;P++)e.removeChild(T[w[P]]);for(var B,M=_.length-1,I=p;I>=c;I--)_[M]===I?(a=T[C[_[M]]],o(t[I],n[I]),M--):(-1===C[I]?B=i(t[I]):(B=T[C[I]],o(t[I],n[I])),e.insertBefore(B,a),a=B)}else{if(void 0!==l||void 0!==a){var k,D=void 0!==l?l.nextSibling:e.firstChild;for(void 0===a&&(a=null);D!==a;)k=D.nextSibling,e.removeChild(D),D=k,s++}else e.textContent="";for(var L,R=a?1:0,U=c;U<=p;U++)L=i(t[U]),R?e.insertBefore(L,a):e.appendChild(L)}}}else for(var V,W=void 0!==a?1:0,J=0,H=t.length;J<H;J++)V=i(t[J]),W?e.insertBefore(V,a):e.appendChild(V);else if(void 0!==l||void 0!==a){var z,Z=void 0!==l?l.nextSibling:e.firstChild;for(void 0===a&&(a=null);Z!==a;)z=Z.nextSibling,e.removeChild(Z),Z=z}else e.textContent=""}:function(e,n,t,r,i,o,l){if(0!==t.length){if(n.length>t.length)for(var a,u=n.length,f=void 0!==l?l.previousSibling:e.lastChild;u>t.length;)a=f.previousSibling,e.removeChild(f),f=a,u--;var s=o?o.nextSibling:e.firstChild;s===l&&(s=void 0);for(var c=0,d=void 0,v=s,p=l?1:0;c<t.length;c++)d=t[c],v?i(d,n[c]):(v=r(d),p?e.insertBefore(v,l):e.appendChild(v)),(v=v.nextSibling)===l&&(v=null)}else if(void 0!==o||void 0!==l){var h,b=void 0!==o?o.nextSibling:e.firstChild;for(void 0===l&&(l=null);b!==l;)h=b.nextSibling,e.removeChild(b),b=h}else e.textContent=""})(o,f.innerArray,e||[],function(e){return l(e)},function(e,n){for(var t in e)n[t].hasOwnProperty("$val")&&(e[t].depends=n[t].depends,n[t](e[t]()))}),c&&(o.appendChild(c),c=null);else{var t=document.createDocumentFragment();o.textContent="";for(var u=0;u<n.$val.length;u++)i(t,u,l(n.$val[u],u));o.appendChild(t)}})},l={id:!0,nodeValue:!0,textContent:!0,className:!0,innerHTML:!0,innerText:!0,tabIndex:!0,value:!0},a=!1,u=document.createElement("template"),f=function(e,n,t){for(var r=n;r>=0;r--){var i=e[r],o=i.lastIndexOf("<");if(-1!==o){e[r]=i.substr(0,o)+t+i.substr(o);break}}},s=function(e,n){var r=[];!function(e,n){for(var t=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,{acceptNode:function(e){return e.nodeValue.trim().startsWith("cmt_")?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},!1);t.nextNode();)n.push(t.currentNode)}(e,r);for(var i=function(e){var i=r[e],o=i.nodeValue,a=null,u=null,f=o.indexOf("_")+1,s=o.indexOf("_",f),c=parseInt(o.substr(f,s-f));f=o.indexOf("_",s)+1,-1===(s=o.indexOf("_",f))&&(s=o.indexOf(" ",f));var d=parseInt(o.substr(f,s-f)),v=n[d];if(3&c){if(1===c){if(u="textContent",a=document.createTextNode(v.$val),i.parentElement.insertBefore(a,i.nextSibling),!v.hasOwnProperty("$val")&&Array.isArray(v))for(var p=0;p<v.length;p++)i.parentElement.appendChild(v[p])}else 2===c&&(u=o.substr(s+1,o.length-s-2),a=i.nextElementSibling);u.startsWith("on")?a.addEventListener(u.substr(2),v):v.hasOwnProperty("$val")?l[u]?t(v,function(e){a[u]=e}).name$="["+u+"]":t(v,function(e){a.setAttribute(u,e)}).name$="attr("+u+")":l[u]?a[u]=v:a.setAttribute(u,v)}else 4===c?v(i):8===c&&i.parentElement.insertBefore(v,i.nextSibling)},o=0;o<r.length;o++)i(o)},c=function(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")()},d=[],v={},p=function(e,n){v[e]||(v[e]=[]),v[e].push(n),d.push(e)},h=function(e){e.$context||Object.defineProperty(e,"$context",{configurable:!1,enumerable:!1,value:{}});for(var n=null,t=0;t<d.length;t++)e.$context[n=d[t]]=v[n][v[n].length-1]},b=function(e){v[e].pop(),d.pop()},m=function(e){for(var n in e)p(n,e[n])},g=function(e){for(var n in e)b(n)},x=/^on[A-Z]/,y=Symbol("fjsx.Fragment"),$=function(e,n,t){var r=null;for(var i in n)if(null!=(r=n[i]))if(r instanceof Function)x.test(i)?e[i=i.toLowerCase()]=r:r(e);else if(r instanceof Object)if(Array.isArray(r))C(e,r);else for(var o in r)"function"==typeof r[o]?r[o](e):e[i][o]=r[o];else t||-1!==i.indexOf("-")?e.setAttribute(i,r):e[i]=r},C=function(e,n){for(var t=null,r=0;r<n.length;r++)Array.isArray(n[r])?C(e,n[r]):n[r]instanceof Function?n[r](e):null!=n[r]&&(t=n[r].$props,e.appendChild(n[r]instanceof Node?n[r]:document.createTextNode(n[r])),t&&t.didMount&&t.didMount(e,n[r]))},N=function(e){var n,t=c().Symbol;return"function"==typeof t?t.observable?n=t.observable:(n=t("observable"),t.observable=n):n="@@observable",n}(),S=function(e){this.isUnsubscribed=!1,this.handlers=null,this._unsubscribe=null,this.handlers=e,this.isUnsubscribed=!1};S.prototype.next=function(e){this.handlers.next&&!this.isUnsubscribed&&this.handlers.next(e)},S.prototype.error=function(e){this.isUnsubscribed||(this.handlers.error&&this.handlers.error(e),this.unsubscribe())},S.prototype.complete=function(){this.isUnsubscribed||(this.handlers.complete&&this.handlers.complete(),this.unsubscribe())},S.prototype.unsubscribe=function(){this.isUnsubscribed=!0,this._unsubscribe&&this._unsubscribe()};var A=function(e){this._subscribe=null,this._subscribe=e};A.prototype.subscribe=function(e){var n=new S(e);return n._unsubscribe=this._subscribe(n),{unsubscribe:function(){n.unsubscribe()}}},A.prototype[N]=function(){return this},exports.fidan={array:function(t){var r=n(new e(t));return r.on=r.$val.on,r.off=r.$val.off,r.toJSON=function(){return r.$val.innerArray},r},on:function(e,n,t){e.$val.on(n,t)},off:function(e,n,t){e.$val.off(n,t)},value:n,computeBy:t,compute:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];var i=n(void 0);i.compute=e,i(e(void 0,i));for(var o=0;o<t.length;o++)t[o].depends.push(i);return i},destroy:function(e){delete e.compute,delete e.depends},insertToDom:i,arrayMap:o,html:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];for(var t=e[0].slice(),r=e.slice(1),i=null,o=0,l=0;l<t.length;l++){var c=t[l],d=r[l];if(void 0===d)break;var v=d.hasOwnProperty("$val");v&&(void 0===d.$indexes&&(d.$indexes=[]),d.$indexes.push(l)),c.endsWith('="')?(o=c.lastIndexOf(" ")+1,i=c.substr(o,c.length-o-2),f(t,l,"\x3c!-- cmt_2_"+l+"_"+i+" --\x3e")):t[l]=c+"\x3c!-- cmt_"+("function"!=typeof d||v?"object"==typeof d?8:1:4)+"_"+l+" --\x3e"}(u=u.cloneNode(!1)).innerHTML=t.join("");var p=u.content;return p.$params=r,a||s(p,r),p},htmlArrayMap:function(e,n,t){return void 0===t&&(t={useCloneNode:!1,renderMode:void 0}),t.useCloneNode?function(r){var i=null,l=null,u=[];o(e,r.parentElement,function(e){var t=null;if(null===i){for(var r in a=!0,t=n(e),a=!1,l=t.$params,e){var o=e[r].$indexes;if(o)for(var f=0;f<o.length;f++)u.push(o[f],r)}i=t.cloneNode(!0)}else t=i.cloneNode(!0);for(f=0;f<u.length;f+=2)l[u[f]]=e[u[f+1]];return s(t,l),t},t.renderMode)}:function(t){o(e,t.parentElement,n)}},setDefaults:function(e,n){for(var t in n)void 0===e[t]&&(e[t]=n[t])},mapProperty:function(e,t,r){var i=Object.getOwnPropertyDescriptor(e,t);i.configurable?Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:function(){return r.$val},set:r}):i.set.depends.push(n(function(){r(e[t])}))},jsRoot:c,Fragment:y,conditionalElement:function(e,n,t){e.$props&&m(e.$props.$context);var r=t();return e.$props&&g(e.$props.$context),r instanceof Node==0&&(r=document.createTextNode(r||"")),n?e.replaceChild(r,n):e.appendChild(r),r},setElementAttributes:$,createElement:function(e,n){for(var t=[],r=arguments.length-2;r-- >0;)t[r]=arguments[r+2];var i=null;return e instanceof Function?(null===n&&(n={}),t&&t.length&&(n.children=t),h(n),(i=e(n))&&(i.$props=n)):(e===y?i=document.createDocumentFragment():(i=document.createElement(e),n&&$(i,n,-1!==e.indexOf("-"))),i.$props=n,t&&t.length&&C(i,t)),i},createSvgElement:function(e,n){for(var t=[],r=arguments.length-2;r-- >0;)t[r]=arguments[r+2];var i=document.createElementNS("http://www.w3.org/2000/svg",e);return n&&(n.className&&(n.class=n.className,delete n.className),$(i,n,!0)),i.$props=n,t&&t.length&&C(i,t),i},addChildElements:C,createTextNode:function(e){return e.appendChild(document.createTextNode(""))},cloneElement:function(e,n){return e=e.cloneNode(!0),n&&$(e,n,!1),e},startContext:p,getContextValue:function(e,n){return n&&n.$context[e]?n.$context[e]:v[e]?v[e][v[e].length-1]:void 0},injectContexts:h,endContext:b,activateContext:m,deactivateContext:g,Context:function(e){return null},toObservable:function(e){return new A(function(t){var r=n(function(){t.next(e.$val)});e.depends.push(r)})},VERSION:"0.0.4"};
//# sourceMappingURL=index.js.map
